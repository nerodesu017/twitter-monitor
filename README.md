# Twitter monitor

Simple ass monitor

## HOW TO USE?
* IN `__TEST__config.json` REPLACE VALUES WITH THE ONES YOU DESIRE
* RENAME THE FILE TO `config.json`

## HOW DOES THIS MONITOR WORK?
* IT HAS AN INFINITE LOOP
    
    * ON THE FIRST CYCLE GET THE LATEST TWEETS SINCE 11 SECONDS AGO FROM WHEN YOU ARE MAKING THE REQUEST (WE DO THIS BCZ OF 500k MONTHLY QUOTA OF TWEETS, WE ARE TRYNA BE EXTRA CAUTIOUS)
    * AFTER THE FIRST REQUEST, WE FETCH THE LATEST TWEETS SINCE THE LATEST TWEET FROM THE LAST TIME WE FETCHED THEM
      * WE SEND THEM TO DISCORD
      * WE REMEMBER THE ID OF THE LATEST TWEET FOR WHEN THE LAST TIME WE FETCHED THEM


## LIMITATIONS
* IT USES THE BEARER TOKEN AUTH THIS MEANS IT HAS MANY LIMITATIONS WHICH CAN AFFECT YOUR SPEED (LESS REQS PER 15 MIN TIMEFRAME)
  1) A BEARER TOKEN DOES REQUESTS BASED ON THE APP NOT THE USER! -> I DONT THINK YOU CAN POST ON BEHALF OF THE USER, I HAVE YET TO READ ABOUT IT
      * !THIS HAS BEEN COMPARED TO OAuth 1.0 AUTHENTICATION (WHICH NEEDS USER PERMISSION BUT IMO HARDER TO USE AND NEEDS YOUR INTERACTION FROM WHAT I'VE SEEN)!

  2) IT FETCHES ONLY THE LATEST 10 TWEETS (YOU WOULD NEED TO CREATE A LOOP TO FETCH MORE, NOT THAT HARD BUT NOT IMPLEMENTED)
      * IF SINCE THE LATEST TWEET FETCHED LAST TIME THERE ARE MORE THAN 10 TWEETS, IT DOESN'T FETCH THEM ALL ON 1 CYCLE
  3) SOME VALUES ARE HARDCODED<br>SEE FOR YOURSELF: IN THE `PARAMS` OBJECT THE VALUE OF THE PROPERTY `QUERY` IS A STRING THAT ONLY GETS THE USERNAME FROM THE CONFIG FILE
  4) USER PROVIDED
     * TIMEOUTS:
           * TWITTER["TIMEOUT"]: DELAY BETWEEN SUBSEQUENT REQUESTS, __NOT__ INCLUDING THE FIRST REQUEST
           * TWITTER["INITIAL_TIMEOUT"]: DELAY BEFORE THE FIRST REQUEST
              * WHEN I WAS TESTING A LOT, WITH THE BEARER TOKEN YOU HAVE 300 REQS ON SOME ENDPOINTS PER 15MINS (900 SECONDS)
              * ALSO I HAD AN INEFFICIENT METHOD THAT WOULD FETCH A LOT OF TWEETS FOR NO ACTUAL REASON ONLY WAY TO CUT BACK ON THAT WAS WITH AN INITIAL TIMEOUT CAN MAKE IT BE 0, JUST MAKE SURE YOU INTEND TO LET THE MONITOR RUN AND NOT RESTART OVER A LOT OF TIMES IN A SHORT AMOUNT OF TIME
      * DISCORD["TIMEOUT"]: PRETTY SELF EXPLANATORY, DELAY BEFORE SENDING THE WEBHOOK
      
   5) DATA IT FETCHES:
        * IT CURRENTLY FETCHES NON-RETWEETS AND NON-REPLIES (SO ONLY TWEETS AND QUOTED RETWEETS; SEE `PARAMS` OBJECT)
      

## TIPS
WHAT I'VE LEARNED SO FAR:
  * TWITTER API DOCS ARE VERY BAD IMO AND HARD TO USE
    * FOR THIS EXAMPLE WE ARE GOING TO BE REFERRING TO THE PARAMS VARIABLE WHICH IS SPECIAL DESIGNED FOR THE `https://api.twitter.com/2/tweets/search/recent` ENDPOINT HOW WOULD ONE KNOW WHAT EXACT PARAMETERS YOU CAN HAVE FOR THIS ENDPOINT?
    * WHAT I'VE FOUND:<br>USING THE DOCS IS PRETTY TEDIOUS AND HARD TO FIND EVEN BY SIMPLE SEARCH
    * SOLUTION:<br>SPAM ENDPOINT WITH INVALID PARAMETER VALUES, VALID VALUES WILL BE LISTED IN THE RESPONSE
    * FOR THE QUERY PARAMETER THO, I THINK YOUR BEST BET IS UNDERSTANDING HOW TO CREATE IT USING DOCUMENTATION AT `https://developer.twitter.com/en/docs/twitter-api/tweets/search/integrate/build-a-query`
    * `Query: One rule for matching Tweets. If you are using a Standard Project at the Basic access level, you can use the basic set of operators and can make queries up to 512 characters long. If you are using an Academic Research Project at the Basic access level, you can use all available operators and can make queries up to 1,024 characters long.`
                                
  * HELPFUL:
    * IF YOU ARE USING POSTMAN, GOOD EXAMPLES CAN BE FOUND AT: 
        [POSTMAN EXAMPLES](https://t.co/twitter-api-postman)

    * FOR MORE RATE LIMITS SEE:
        [RATE LIMITS](https://developer.twitter.com/en/docs/twitter-api/rate-limits)

    * FOR SAMPLE CODE SEE:
        [SAMPLE CODE](https://github.com/twitterdev/Twitter-API-v2-sample-code)

    * FOR ERROR TROUBLESHOOTING SEE:
        [ERROR TROUBLESHOOTING](https://developer.twitter.com/en/support/twitter-api/error-troubleshooting)
